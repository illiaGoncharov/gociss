<?php
/**
 * Секция география (карта России)
 *
 * @package Gociss
 */

if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

$geo_title = function_exists( 'get_field' ) ? get_field( 'gociss_geo_title' ) : '';
$geo_btn   = function_exists( 'get_field' ) ? get_field( 'gociss_geo_btn' ) : '';

// Заглушки
if ( ! $geo_title ) {
	$geo_title = 'РАБОТАЕМ ПО ВСЕЙ РОССИИ';
}
?>

<section class="geography" id="geography">
	<div class="container">
		<div class="geography__content">
			<div class="geography__text">
				<h2 class="geography__title"><?php echo esc_html( $geo_title ); ?></h2>

				<?php if ( $geo_btn && ! empty( $geo_btn['text'] ) ) : ?>
					<a href="<?php echo esc_url( $geo_btn['url'] ); ?>" class="geography__btn">
						<?php echo esc_html( $geo_btn['text'] ); ?>
					</a>
				<?php else : ?>
					<a href="tel:+78005510236" class="geography__btn">ПОЗВОНИТЬ НАМ</a>
				<?php endif; ?>
			</div>

			<div class="geography__map">
				<!-- Интерактивная карта: базовый слой + подсветка -->
				<div class="interactive-map">
					<div class="interactive-map__inner">
						<!-- Базовая карта (всегда видна) -->
						<div id="mapBase" class="interactive-map__base"></div>
						<!-- Слой подсветки (меняется при hover) -->
						<div id="mapHighlight" class="interactive-map__highlight"></div>
						<!-- Прозрачный слой с областями -->
						<img id="karta" usemap="#russiaMap" class="interactive-map__areas" src="<?php echo esc_url( get_template_directory_uri() . '/assets/images/map/branches_map_transparent.gif' ); ?>" alt="Карта России">
						<map id="russiaMap" name="russiaMap">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -313px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Южный ФО" title="Южный ФО" coords="65,242,64,240,61,239,58,237,60,236,60,234,60,232,58,232,54,230,53,227,52,226,50,225,49,224,48,224,46,224,44,224,44,227,43,228,39,229,37,228,35,227,32,228,32,228,29,230,28,232,26,234,23,235,21,234,19,233,15,234,17,236,15,236,15,240,20,240,20,243,18,244,18,246,21,248,21,252,21,253,19,253,18,256,19,258,18,260,16,261,16,263,14,263,11,262,8,264,8,265,13,272,17,277,17,280,19,282,20,283,24,286,24,287,23,289,23,290,26,294,26,300,27,302,30,303,33,302,34,294,36,286,39,283,38,282,38,280,41,276,46,273,51,275,53,271,56,270,56,268,58,263,55,259,55,256,53,253,57,252,58,248,65,245,65,245" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -626px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Центральный ФО" title="Центральный ФО" coords="105,186,103,186,97,185,96,184,95,183,92,180,89,178,86,177,82,178,81,178,79,177,79,173,80,172,79,170,77,170,75,170,71,170,71,168,70,166,65,166,60,163,59,162,57,163,54,163,47,161,43,160,43,162,42,164,39,166,37,166,35,166,35,166,35,166,34,168,32,169,30,169,29,174,29,176,28,177,29,182,31,183,36,182,37,185,37,186,36,187,35,188,36,190,36,192,40,192,41,192,41,194,43,197,44,201,46,203,48,200,50,201,51,203,53,204,52,206,55,206,56,207,58,208,60,208,62,208,64,208,67,205,68,202,68,200,70,199,74,197,77,195,78,194,80,195,83,193,84,192,86,193,90,192,91,192,92,193,96,194,98,193,100,192,102,192,104,190" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -939px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Северо-Западный ФО" title="Северо-Западный ФО" coords="190,147,187,144,184,142,180,141,180,137,179,134,177,134,177,136,178,141,179,144,179,147,177,148,175,151,173,151,172,150,173,148,174,147,173,145,171,145,168,145,166,144,164,143,160,144,157,143,157,143,158,142,161,141,162,141,162,139,159,138,157,139,155,140,152,139,147,139,145,138,143,139,140,139,136,141,135,140,133,139,135,135,139,135,140,132,140,128,137,125,135,123,135,127,135,129,134,130,130,132,129,136,126,139,124,137,122,134,119,134,117,134,113,135,110,138,108,141,106,138,104,135,102,132,100,134,100,138,99,139,96,139,96,138,97,137,96,133,97,126,100,124,103,120,102,116,102,114,104,112,105,113,105,115,106,119,108,123,110,126,112,130,115,131,119,131,123,128,126,124,125,120,123,115,123,113,122,111,122,108,121,104,120,102,118,99,122,99,121,98,119,97,116,94,113,92,108,93,106,93,105,95,103,98,103,101,98,103,95,107,94,109,92,111,88,113,85,117,82,121,80,123,78,126,77,130,76,131,73,133,71,133,66,132,61,133,59,133,58,134,58,139,56,141,50,138,46,139,43,141,40,144,38,145,37,147,35,149,34,151,33,154,31,155,33,158,33,159,33,161,35,163,35,166,35,166,37,166,39,166,42,164,43,162,43,160,47,161,54,163,57,163,59,162,60,163,65,166,70,166,71,168,71,170,75,170,77,170,79,170,80,172,79,173,79,177,81,178,82,178,86,177,89,178,92,180,95,183,96,184,97,185,103,186,105,186,105,186,105,185,106,182,108,181,109,177,113,178,113,182,111,186,110,190,110,194,112,194,114,193,119,193,120,193,120,194,122,194,124,193,124,191,123,190,124,189,127,189,129,189,129,190,130,191,132,193,135,194,140,193,142,193,144,194,150,197,150,197,152,195,154,194,155,191,155,189,157,185,157,183,159,182,161,180,161,178,163,175,168,175,169,174,171,173,174,171,178,168,180,168,182,167,189,163,189,160,189,157,190,155,189,152,190,151,191,150,190,149" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -1252px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Приволжский ФО" title="Приволжский ФО" coords="124,207,124,202,125,199,128,197,124,195,124,193,122,194,120,194,120,193,119,193,114,193,112,194,110,194,110,190,111,186,113,182,113,178,109,177,108,181,106,182,105,185,104,190,102,192,100,192,98,193,96,194,92,193,91,192,90,192,86,193,84,192,83,193,80,195,78,194,77,195,74,197,70,199,68,200,68,202,67,205,64,208,65,211,67,211,70,213,70,216,72,215,76,218,79,218,81,216,84,217,86,218,89,216,89,214,93,213,98,212,101,211,104,213,104,217,108,213,109,210,112,209,114,204,117,205,119,208,121,208" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -1565px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Уральский ФО" title="Уральский ФО" coords="239,212,242,210,243,208,242,203,245,201,244,196,241,194,240,192,240,189,237,186,237,180,235,178,236,175,235,172,236,170,238,165,237,162,235,161,230,158,229,155,231,152,234,150,234,148,232,143,233,141,232,139,230,133,228,134,228,139,226,138,225,138,225,140,226,141,226,144,224,143,222,142,222,140,222,138,222,134,222,131,221,135,220,137,218,138,218,146,216,150,214,153,214,156,214,157,218,158,222,159,223,162,223,166,223,168,223,169,226,172,222,172,221,171,219,169,220,167,220,165,219,163,218,161,216,161,214,162,215,163,215,165,213,169,210,172,203,177,201,178,200,177,198,175,196,174,196,171,199,172,203,172,210,165,212,163,212,162,210,158,210,155,211,151,213,147,213,145,213,138,215,135,218,131,217,130,216,128,212,128,211,127,210,127,207,130,204,133,201,136,199,138,199,142,198,146,196,146,195,147,197,151,199,154,199,157,197,159,196,158,194,156,193,154,192,153,191,151,191,150,190,151,189,152,190,155,189,157,189,160,189,163,182,167,180,168,178,168,174,171,171,173,169,174,168,175,163,175,161,178,161,180,159,182,157,183,157,185,155,189,155,191,154,194,152,195,150,197,150,200,148,204,142,209,142,211,142,213,142,214,141,215,143,216,142,218,140,219,139,219,138,219,137,221,135,221,132,225,129,226,128,227,126,229,130,232,133,233,133,236,134,238,130,239,126,239,126,237,124,236,122,237,122,239,124,242,132,243,130,246,128,247,125,249,123,251,121,255,121,259,123,258,124,259,123,262,123,263,128,262,129,260,131,260,134,260,133,259,133,257,133,254,135,252,138,254,147,254,149,254,150,256,153,255,157,255,161,255,164,255,166,254,169,253,171,254,172,254,174,255,176,257,177,253,180,251,180,248,183,247,182,242,181,240,181,237,183,235,185,234,186,235,185,238,188,239,190,240,193,239,195,240,198,238,200,236,203,232,206,230,209,230,208,227,210,224,216,223,217,223,218,223,220,225,223,224,225,225,230,227,234,224,237,226,238,225,239,224,242,222,244,220,239,218" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -1878px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Сибирский ФО" title="Сибирский ФО" coords="255,305,256,305,257,303,253,299,253,296,252,295,251,298,247,294,252,289,254,284,254,283,253,281,254,278,254,275,251,275,251,273,253,271,252,270,251,268,253,266,255,264,255,262,253,260,252,257,252,253,255,251,254,248,250,246,251,242,254,240,254,238,250,238,248,235,244,233,238,233,239,229,237,226,234,224,230,227,225,225,223,224,220,225,218,223,217,223,216,223,210,224,208,227,209,230,206,230,203,232,200,236,198,238,195,240,193,239,190,240,188,239,185,238,186,235,185,234,183,235,181,237,181,240,182,242,183,247,180,248,180,251,177,253,176,257,177,258,177,261,175,264,180,264,183,266,186,268,187,269,186,270,187,272,191,272,195,270,199,270,201,270,199,271,199,272,202,275,206,282,207,285,207,288,208,290,209,292,209,294,210,296,213,296,215,295,216,296,218,299,222,299,227,299,229,301,231,304,232,305,234,306,235,309,238,310,241,309,242,311,244,313,248,312,250,311,254,311,255,309,256,308,255,307" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -2191px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Дальневосточный ФО" title="Дальневосточный ФО" coords="527,162,528,161,527,159,527,155,523,148,521,145,522,140,520,138,517,135,515,131,517,128,515,125,511,123,509,121,508,118,510,116,508,114,504,114,502,112,500,110,497,113,496,111,495,110,490,103,488,101,490,98,489,94,489,93,490,92,491,90,490,88,491,83,493,80,496,79,498,79,497,75,495,72,492,64,491,60,490,55,490,50,490,48,492,42,492,40,491,39,487,40,483,42,479,40,476,43,474,45,473,46,472,45,472,43,473,41,474,38,474,35,472,32,468,31,466,30,466,28,467,27,468,27,471,28,472,26,473,22,474,20,478,20,479,19,481,17,483,14,485,12,485,11,480,11,480,9,478,9,475,8,476,7,477,6,476,4,474,3,473,1,470,2,468,6,466,8,464,10,464,10,468,11,466,14,461,14,457,15,454,18,450,21,448,23,446,24,444,26,442,27,440,29,438,30,435,31,434,34,434,37,432,39,430,42,429,44,429,45,432,47,436,49,436,50,435,52,432,54,428,55,426,58,424,61,422,63,422,66,423,70,420,70,417,71,415,71,414,70,412,69,410,69,409,68,407,70,406,72,404,73,402,77,401,81,398,82,392,83,390,84,388,84,386,81,386,82,385,82,383,83,380,86,379,88,379,88,378,88,374,88,370,91,367,95,366,97,367,98,370,100,372,102,371,103,369,105,366,106,365,107,363,109,362,111,358,112,357,114,358,116,357,121,355,119,351,117,347,115,343,114,342,113,342,111,343,109,344,107,340,106,338,106,336,107,333,107,331,107,331,109,331,111,331,113,332,116,332,116,328,117,323,118,322,117,321,115,318,116,311,119,309,117,307,120,307,119,307,119,306,122,306,125,307,128,309,130,312,133,314,138,311,144,310,151,304,155,302,157,304,159,306,163,307,169,307,172,306,175,308,180,311,185,310,190,311,192,313,193,316,193,319,194,322,199,325,203,325,206,328,207,328,212,332,215,331,218,331,221,332,227,334,229,335,228,337,227,340,226,342,224,343,225,345,225,348,221,349,216,351,213,353,211,355,213,357,213,360,216,362,215,365,215,368,220,370,225,374,228,376,230,377,232,377,233,381,233,381,237,385,235,387,237,390,237,391,240,392,244,392,246,394,248,396,251,396,251,398,249,403,247,405,246,409,245,411,246,415,248,418,251,419,252,421,253,424,256,426,258,428,259,430,261,434,262,442,261,447,260,449,261,452,263,455,265,456,264,458,263,460,260,461,258,462,256,466,253,469,256,469,257,469,259,469,260,470,262,472,266,473,274,471,278,469,279,468,280,468,285,470,287,473,293,473,296,474,298,476,297,477,294,478,291,482,292,485,290,488,287,490,285,490,283,490,279,490,269,490,265,491,259,491,257,490,252,489,250,488,248,488,243,488,238,488,235,486,232,485,231,483,227,478,221,475,217,475,213,475,212,473,210,470,207,469,206,468,204,464,203,460,202,459,201,457,202,455,203,454,204,455,207,455,211,453,210,451,209,450,209,451,212,449,213,448,212,447,211,446,209,445,210,443,211,438,211,439,209,439,205,440,202,441,197,443,187,443,182,442,180,441,178,441,173,441,170,441,167,444,163,446,162,447,160,449,158,451,158,452,156,453,154,455,152,456,151,458,149,457,147,458,146,459,144,462,141,466,140,465,144,467,143,469,141,470,140,470,138,469,136,470,135,473,131,469,130,467,127,464,119,463,116,463,113,466,108,468,106,468,103,469,104,471,107,475,108,475,104,474,100,473,96,470,94,468,89,473,87,473,89,473,90,476,93,482,98,482,107,483,111,485,115,488,123,488,132,488,134,489,135,491,137,492,139,495,142,497,146,499,149,503,150,507,152,510,153,514,155,521,158,524,160,525,161" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -2504px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Прикубанский регион" title="Прикубанский регион" coords="21,253,21,252,21,248,18,246,18,244,20,243,20,240,15,240,15,236,13,236,11,236,9,236,10,239,9,240,6,240,5,241,4,242,1,240,0,242,0,246,1,249,1,251,2,256,3,260,4,261,6,262,8,264,11,262,14,263,16,263,16,261,18,260,19,258,18,256,19,253" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -2817px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Юго-Западный регион" title="Юго-Западный регион" coords="60,208,58,208,56,207,55,206,52,206,53,204,51,203,50,201,48,200,46,203,44,201,43,197,41,194,41,192,40,192,36,192,36,190,35,188,36,187,37,186,37,185,36,182,31,183,29,182,27,181,25,181,23,180,21,181,19,185,20,187,21,188,22,188,23,189,25,190,26,193,26,195,25,196,23,197,21,198,22,199,24,203,22,205,22,208,23,210,24,212,26,213,28,216,28,218,29,219,33,225,32,228,35,227,37,228,39,229,43,228,44,227,44,224,46,224,48,224,49,224,50,225,52,226,53,227,53,226,53,223,55,222,57,220,60,220,61,216,62,212,64,208,62,208" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -3130px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Юго-Восточный регион" title="Юго-Восточный регион" coords="130,239,134,238,133,236,133,233,130,232,126,229,125,228,123,228,124,226,121,226,120,225,120,224,117,222,115,223,113,224,112,227,112,228,108,229,108,231,105,233,102,232,101,230,98,227,94,226,92,224,92,221,88,221,86,218,84,217,81,216,79,218,76,218,72,215,70,216,70,213,67,211,65,211,64,208,62,212,61,216,60,220,57,220,55,222,53,223,53,226,53,227,53,227,54,230,58,232,60,232,60,234,60,236,58,237,61,239,64,240,65,242,65,245,65,245,65,245,67,249,69,251,70,248,75,246,81,246,86,246,91,248,91,251,94,252,95,256,98,259,100,260,99,262,103,263,107,263,109,265,113,266,116,271,120,271,122,273,125,274,127,271,127,268,123,263,123,263,123,262,124,259,123,258,121,259,121,255,123,251,125,249,128,247,130,246,132,243,124,242,122,239,122,237,124,236,126,237,126,239" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -3443px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Волго-Камский регион" title="Волго-Камский регион" coords="92,221,92,224,94,226,98,227,101,230,102,232,105,233,108,231,108,229,112,228,112,227,113,224,115,223,117,222,120,224,120,225,121,226,124,226,123,228,125,228,126,229,128,227,129,226,132,225,135,221,137,221,138,219,139,219,140,219,142,218,143,216,141,215,142,214,142,213,142,211,142,209,148,204,150,200,150,197,150,197,150,197,144,194,142,193,140,193,135,194,132,193,130,191,129,190,129,189,127,189,124,189,123,190,124,191,124,193,124,195,128,197,125,199,124,202,124,207,121,208,119,208,117,205,114,204,112,209,109,210,108,213,104,217,104,213,101,211,98,212,93,213,89,214,89,216,86,218,88,221" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -3756px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Центрально-Сибирский регион" title="Центрально-Сибирский регион" coords="315,199,315,196,319,196,319,194,316,193,313,193,311,192,310,190,311,185,308,180,306,175,307,172,307,169,306,163,304,159,302,157,304,155,310,151,311,144,314,138,312,133,309,130,307,128,306,125,306,122,307,119,307,119,305,117,304,118,302,119,304,122,303,123,301,124,297,126,294,128,294,127,295,125,298,121,300,117,302,114,304,111,306,108,306,106,305,105,304,101,302,99,299,98,294,98,292,99,290,100,289,99,289,96,286,96,288,93,284,92,281,92,279,96,280,99,280,101,280,103,278,102,276,102,275,104,275,106,272,108,270,109,269,107,266,107,264,110,260,111,256,111,254,113,252,115,249,118,249,120,249,122,249,124,249,126,245,127,240,127,236,127,235,128,236,130,237,134,237,135,239,137,240,140,241,141,241,144,241,147,241,153,238,153,237,153,239,150,238,146,239,144,239,142,238,141,236,140,235,138,234,137,232,134,232,132,231,132,230,133,232,139,233,141,232,143,234,148,234,150,231,152,229,155,230,158,235,161,237,162,238,165,236,170,235,172,236,175,235,178,237,180,237,186,240,189,240,192,241,194,244,196,245,201,242,203,243,208,242,210,239,212,239,218,244,220,242,222,239,224,238,225,237,226,239,229,238,233,244,233,248,235,250,238,254,238,254,240,251,242,250,246,254,248,255,251,252,253,252,257,253,260,255,262,255,264,253,266,251,268,252,270,253,271,251,273,251,275,254,275,254,278,253,281,254,283,254,284,252,289,247,294,251,298,252,295,253,296,253,299,257,303,256,305,255,305,255,307,256,308,259,306,267,302,270,302,273,304,277,303,279,305,282,307,286,307,291,307,295,305,298,303,297,300,295,297,296,295,297,293,298,291,298,289,299,283,297,281,292,281,290,278,287,278,283,275,283,273,287,272,287,263,290,260,290,256,287,253,290,250,289,248,295,247,296,245,298,245,300,249,301,249,302,247,302,244,307,239,306,233,308,233,311,236,315,238,316,236,317,233,315,230,317,228,317,227,316,225,313,224,311,222,311,219,315,211,316,208,313,204,315,202" shape="poly">
							<area onmouseover="document.getElementById('mapHighlight').style.backgroundPosition='0px -4069px';" onmouseout="document.getElementById('mapHighlight').style.backgroundPosition='0px -99999px';" alt="Восточно-Сибирский регион" title="Восточно-Сибирский регион" coords="315,196,315,199,315,202,313,204,316,208,315,211,311,219,311,222,313,224,316,225,317,227,317,228,315,230,317,233,316,236,315,238,311,236,308,233,306,233,307,239,302,244,302,247,301,249,300,249,298,245,296,245,295,247,289,248,290,250,287,253,290,256,290,260,287,263,287,272,283,273,283,275,287,278,290,278,292,281,297,281,299,283,298,289,304,291,311,292,314,293,316,297,318,299,320,299,322,300,324,299,326,298,330,297,338,297,343,298,345,299,348,300,352,300,357,299,359,298,363,296,365,295,369,291,372,287,375,285,379,286,383,285,388,285,391,284,395,277,394,273,394,269,394,266,394,265,395,263,395,261,394,259,392,259,391,259,392,255,395,252,396,251,396,251,394,248,392,246,392,244,391,240,390,237,387,237,385,235,381,237,381,233,377,233,377,232,376,230,374,228,370,225,368,220,365,215,362,215,360,216,357,213,355,213,353,211,351,213,349,216,348,221,345,225,343,225,342,224,340,226,337,227,335,228,334,229,332,227,331,221,331,218,332,215,328,212,328,207,325,206,325,203,322,199,319,194,319,196" shape="poly">
						</map>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>






