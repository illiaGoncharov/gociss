# Решение проблем

Этот документ поможет решить типичные проблемы при работе с темой.

## Проблемы с установкой

### Тема не активируется

**Симптомы:** Тема не появляется в списке тем или выдаёт ошибку при активации.

**Решения:**
1. Проверь, что все файлы скопированы правильно
2. Убедись, что файл `style.css` содержит правильную информацию о теме
3. Проверь права доступа к файлам (должны быть 644 для файлов, 755 для папок)
4. Посмотри логи ошибок в `wp-content/debug.log`

### Ошибка "Fatal error"

**Симптомы:** Белый экран или сообщение об ошибке PHP.

**Решения:**
1. Включи отладку в `wp-config.php`:
   ```php
   define('WP_DEBUG', true);
   define('WP_DEBUG_LOG', true);
   ```
2. Проверь `wp-content/debug.log` на наличие ошибок
3. Убедись, что версия PHP 8.0 или выше
4. Проверь синтаксис PHP в файлах темы

## Проблемы с ACF

### Поля ACF не отображаются

**Симптомы:** На странице редактирования нет блоков с ACF полями.

**Решения:**
1. Убедись, что плагин ACF установлен и активирован
2. Проверь, что страница использует правильный шаблон (`page-front.php`)
3. Убедись, что поля зарегистрированы в `inc/acf-fields.php`
4. Попробуй деактивировать и активировать плагин ACF

### Значения полей не сохраняются

**Симптомы:** После сохранения страницы поля пустые.

**Решения:**
1. Проверь права доступа к базе данных
2. Убедись, что используешь правильные имена полей в коде
3. Проверь, нет ли конфликтов с другими плагинами
4. Попробуй очистить кеш WordPress (если используется плагин кеширования)

### Репитеры не работают

**Симптомы:** Нельзя добавить новые элементы в репитер.

**Решения:**
1. Обнови страницу и попробуй снова
2. Проверь консоль браузера на ошибки JavaScript
3. Убедись, что используется последняя версия ACF
4. Попробуй отключить другие плагины для проверки конфликтов

## Проблемы с отображением

### Стили не применяются

**Симптомы:** Сайт выглядит без стилей или стили старые.

**Решения:**
1. Очисти кеш браузера (Ctrl+Shift+R или Cmd+Shift+R)
2. Проверь, что файл `assets/css/style.css` существует
3. Убедись, что стили подключены в `inc/enqueue.php`
4. Проверь консоль браузера на ошибки загрузки файлов
5. Отключи плагины кеширования временно

### Изображения не загружаются

**Симптомы:** Изображения не отображаются на сайте.

**Решения:**
1. Проверь пути к изображениям
2. Убедись, что файлы загружены на сервер
3. Проверь права доступа к папке `wp-content/uploads`
4. Проверь консоль браузера на ошибки 404

### Меню не отображается

**Симптомы:** Меню пустое или не показывается.

**Решения:**
1. Перейди в **Внешний вид → Меню**
2. Убедись, что меню создано и назначено в "Расположение меню"
3. Проверь, что в `header.php` используется правильное название меню (`primary`)
4. Убедись, что меню зарегистрировано в `inc/theme-setup.php`

## Проблемы с формами

### Форма не отправляется

**Симптомы:** При нажатии "Отправить" ничего не происходит или ошибка.

**Решения:**
1. Проверь консоль браузера на ошибки JavaScript
2. Убедись, что файл `assets/js/main.js` загружен
3. Проверь, что AJAX URL правильный (должен быть `admin-ajax.php`)
4. Убедись, что обработчик формы подключен в `functions.php`

### Email не приходит

**Симптомы:** Форма отправляется, но письмо не приходит.

**Решения:**
1. Проверь настройки почты WordPress
2. Установи плагин для отправки почты (например, WP Mail SMTP)
3. Проверь спам-папку
4. Убедись, что email адрес администратора правильный в настройках WordPress

### Ошибка безопасности (nonce)

**Симптомы:** Сообщение "Ошибка безопасности" при отправке формы.

**Решения:**
1. Обнови страницу и попробуй снова
2. Проверь, что nonce поле присутствует в форме
3. Убедись, что используется правильный action в JavaScript
4. Проверь, что обработчик формы проверяет nonce

## Проблемы с деплоем

### GitHub Actions не запускается

**Симптомы:** После пуша в `main` деплой не начинается.

**Решения:**
1. Проверь, что workflow файл существует в `.github/workflows/`
2. Убедись, что файл имеет правильный синтаксис YAML
3. Проверь раздел **Actions** на GitHub на наличие ошибок
4. Убедись, что секреты настроены правильно

### Ошибка подключения к FTP

**Симптомы:** Деплой падает с ошибкой подключения.

**Решения:**
1. Проверь правильность данных в секретах GitHub
2. Убедись, что FTP сервер доступен
3. Проверь, не блокирует ли файрвол подключение
4. Попробуй подключиться к FTP вручную с теми же данными

### Файлы не загружаются

**Симптомы:** Деплой проходит, но файлы не обновляются на сервере.

**Решения:**
1. Проверь путь `server-dir` в workflow файле
2. Убедись, что у FTP пользователя есть права на запись
3. Проверь логи деплоя на GitHub для деталей ошибки
4. Попробуй загрузить файлы вручную через FTP

## Проблемы с производительностью

### Сайт медленно загружается

**Решения:**
1. Установи плагин кеширования (WP Super Cache, W3 Total Cache)
2. Оптимизируй изображения перед загрузкой
3. Используй CDN для статических файлов
4. Проверь количество активных плагинов (отключи ненужные)
5. Используй инструмент Lighthouse для анализа

### Большой размер темы

**Решения:**
1. Удали неиспользуемые изображения из `assets/images/`
2. Минифицируй CSS и JS файлы
3. Используй сжатие на сервере (gzip)
4. Проверь, нет ли дублирующихся стилей

## Полезные команды для отладки

### Проверка логов WordPress

```bash
# Просмотр последних ошибок
tail -f wp-content/debug.log
```

### Проверка прав доступа

```bash
# Установка правильных прав
find wp-content/themes/gociss-theme -type f -exec chmod 644 {} \;
find wp-content/themes/gociss-theme -type d -exec chmod 755 {} \;
```

### Очистка кеша WordPress

Если используешь плагин кеширования, очисти кеш через админку или удали файлы кеша вручную.

## Получение помощи

Если проблема не решена:

1. Проверь логи ошибок (`wp-content/debug.log`)
2. Проверь консоль браузера (F12)
3. Поищи решение в документации WordPress
4. Проверь GitHub Issues проекта
5. Обратись к разработчику темы

## Полезные ссылки

- [WordPress Support Forums](https://wordpress.org/support/)
- [ACF Support](https://support.advancedcustomfields.com/)
- [WordPress Debugging](https://wordpress.org/support/article/debugging-in-wordpress/)



