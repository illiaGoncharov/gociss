# Правила разработки WordPress темы для ГоЦИСС

## Общие принципы

- Всегда отвечай и пиши на русском языке
- Комментируй код на русском, если он не самодокументируемый
- Следуй WordPress Coding Standards для PHP
- Используй современные практики WordPress разработки

## Структура проекта

Это WordPress тема с кастомной архитектурой:
- `/wp-content/themes/gociss-theme/` - основная директория темы
- `/inc/` - вспомогательные PHP файлы
- `/template-parts/` - переиспользуемые части шаблонов
- `/assets/` - CSS, JS, изображения, шрифты

## PHP и WordPress

- Используй WordPress Coding Standards (WPCS)
- Префикс всех функций: `gociss_`
- Префикс всех хуков: `gociss_`
- Используй `get_template_directory_uri()` для путей к ассетам
- Всегда экранируй вывод: `esc_html()`, `esc_attr()`, `esc_url()`
- Всегда валидируй и санитизируй ввод: `sanitize_text_field()`, `wp_kses_post()`
- Используй `wp_enqueue_script()` и `wp_enqueue_style()` для подключения ассетов
- Не используй Gutenberg - он отключен в теме

## ACF (Advanced Custom Fields)

- Все ACF группы регистрируются в `/inc/acf-fields.php`
- Используй `acf_add_local_field_group()` для регистрации полей
- Именование полей: snake_case, префикс `gociss_`
- Для репитеров используй понятные имена: `gociss_services`, `gociss_advantages`
- Всегда проверяй существование функции `get_field()` перед использованием
- Используй `get_field()` для получения значений, не прямые запросы к БД

## Структура файлов

- `functions.php` - основной файл темы, подключает все из `/inc/`
- `header.php` - шапка сайта
- `footer.php` - подвал сайта
- `index.php` - главный шаблон
- `/template-parts/` - части шаблонов для переиспользования

## CSS и JavaScript

- Чистый CSS без препроцессоров
- Vanilla JavaScript (без jQuery, если возможно)
- Mobile-first подход для адаптивности
- Используй CSS переменные для цветов и размеров
- Минифицируй ассеты для продакшена (через GitHub Actions)

## Именование

- Файлы: kebab-case (например: `acf-fields.php`)
- Функции: snake_case с префиксом `gociss_` (например: `gociss_enqueue_scripts()`)
- Классы CSS: BEM методология (например: `hero__title`, `hero__button`)
- Константы: UPPER_SNAKE_CASE с префиксом `GOCISS_`

## Безопасность

- Всегда проверяй nonce для форм
- Используй `wp_verify_nonce()` для AJAX запросов
- Санитизируй все пользовательские данные
- Экранируй весь вывод
- Не используй `eval()`, `exec()`, `system()`

## Производительность

- Используй `wp_enqueue_script()` с правильными зависимостями
- Подключай скрипты в футере, если возможно
- Используй `wp_localize_script()` для передачи данных в JS
- Оптимизируй изображения перед загрузкой
- Используй lazy loading для изображений

## Git и GitHub

- Коммить только файлы темы, не весь WordPress
- Используй `.gitignore` для исключения ненужных файлов
- Коммить сообщения на русском языке
- Один коммит = одна логическая задача
- Используй Conventional Commits формат:
  - `feat:` - новая функциональность
  - `fix:` - исправление бага
  - `refactor:` - рефакторинг кода
  - `style:` - изменения стилей/форматирования
  - `docs:` - изменения документации
  - `chore:` - технические изменения (конфиги, зависимости)
  - Пример: `feat: добавлен header с двухуровневой навигацией`

## Документация

- Вся документация в `/docs/`
- Комментируй сложную логику в коде
- Используй PHPDoc для функций и классов

## Стиль кода

- Отступы: табы (4 пробела)
- Конец строки: LF (Unix)
- Кодировка: UTF-8 без BOM
- Длина строки: до 120 символов (если возможно)



